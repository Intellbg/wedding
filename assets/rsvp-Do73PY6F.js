import{O as v,r as c,c as i,d as t,P as f,e as d,g as a,Q as l,b,R as u,w,T as C,S as g,o as p}from"./index-k2O8oLtw.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={id:"rsvp",class:"rsvp-section"},N={class:"rsvp-card"},V={class:"input-wrapper"},k={key:0,class:"input-helper"},x={key:0},T={__name:"rsvp",setup(M){const n=v({name:"",attendance:"",peopleCount:1}),r=c(!1);async function m(){try{const o=await fetch("https://api_wedding.usagicli.com/api/rsvp",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name,attendance:n.attendance,peopleCount:n.attendance==="Sí"?n.peopleCount:0})}),e=await o.json();if(!o.ok)throw new Error(e.message||"Ocurrió un error al confirmar.");alert(e.message||"¡Gracias por confirmar tu asistencia!"),n.name="",n.attendance="",n.peopleCount=1}catch(o){alert(o.message||"No se pudo completar tu confirmación. Intenta más tarde."),console.error("Error en RSVP:",o)}}return(o,e)=>(p(),i("section",S,[e[12]||(e[12]=t("h2",{class:"section-title"},"Confirme su Asistencia",-1)),t("div",N,[t("form",{onSubmit:f(m,["prevent"]),class:"rsvp-form"},[t("label",null,[e[5]||(e[5]=a(" Nombre Completo ")),t("div",V,[l(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>n.name=s),required:""},null,512),[[u,n.name]]),t("span",{class:"info-icon",onMouseenter:e[1]||(e[1]=s=>r.value=!0),onMouseleave:e[2]||(e[2]=s=>r.value=!1)},"ⓘ",32),b(C,{name:"fade"},{default:w(()=>[r.value?(p(),i("small",k," Ingrese el primer nombre y apellido tal como aparece en la invitación, sin abreviaciones. ")):d("",!0)]),_:1})])]),t("label",null,[e[7]||(e[7]=a(" ¿Asistirás? ")),l(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>n.attendance=s),required:""},e[6]||(e[6]=[t("option",{value:"Sí"},"Sí",-1),t("option",{value:"No"},"No",-1)]),512),[[g,n.attendance]])]),n.attendance==="Sí"?(p(),i("label",x,[e[8]||(e[8]=a(" Número de personas ")),l(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=s=>n.peopleCount=s),min:"1",required:""},null,512),[[u,n.peopleCount]])])):d("",!0),e[9]||(e[9]=t("button",{type:"submit",class:"submit-btn"},"Enviar",-1))],32),e[10]||(e[10]=t("p",{class:"rsvp-note"},[a(" Si tiene algún inconveniente al confirmar, por favor "),t("a",{href:"https://wa.me/593991391910",target:"_blank",class:"whatsapp-link"}," contáctanos por WhatsApp ")],-1)),e[11]||(e[11]=t("a",{href:"/",class:"rsvp-note"},"Regresar",-1))])]))}},I=y(T,[["__scopeId","data-v-299b07c8"]]);export{I as default};
